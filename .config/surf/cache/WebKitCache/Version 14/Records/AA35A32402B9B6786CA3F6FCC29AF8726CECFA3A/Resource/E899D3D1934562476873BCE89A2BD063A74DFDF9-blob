(window.webpackJsonp=window.webpackJsonp||[]).push([["ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListin~d49165f9"],{"./src/reddit/components/Media/EmbedBox/index.m.less":function(e,t,n){e.exports={embedBox:"_3K6DCjWs2dQ93YYZDOHjib"}},"./src/reddit/components/Media/EmbedBox/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/addQueryParams/index.ts"),c=n("./src/lib/classNames/index.ts"),d=n("./src/lib/forceHttps/index.ts"),l=n("./src/reddit/constants/tracking.ts"),u=n("./src/reddit/models/Media/index.ts"),h=n("./src/reddit/selectors/user.ts"),p=n("./src/reddit/components/Media/EmbedBox/index.m.less"),m=n.n(p);const b=Object(o.b)(()=>Object(a.c)({isNightmodeOn:h.U}));t.a=b(e=>{const t={responsive:"true",is_nightmode:e.isNightmodeOn},n=e.isResponsive?Object(i.a)(Object(d.a)(e.source),t):Object(d.a)(e.source),s={overflow:"hidden"};return s.width=e.width&&!e.fullWidth?"".concat(e.width,"px"):"100%",e.showCentered&&(s.margin="0 auto"),e.isListing||(s.maxHeight="".concat(u.e,"px")),r.a.createElement("iframe",{className:Object(c.a)(l.b,m.a.embedBox,e.className),height:e.height,width:e.width&&!e.fullWidth?e.width:"100%",onLoad:e.onLoad,ref:e.childRef,title:e.title,scrolling:"no",src:n,style:s,allowFullScreen:!0})})},"./src/reddit/components/Media/ImageBox/index.m.less":function(e,t,n){e.exports={container:"_3Oa0THmZ3f5iZXAQ0hBJ0k",image:"_2_tDEnGMLxpM6uOa2kaDB3",mShowCentered:"_1XWObl-3b9tPy64oaG6fax",mShowBlurred:"_3oBPn1sFwq76ZAxXgwRhhn",seeMore:"_3hUbl08LBz2mbXjy0iYhOS",unblurButtonContainer:"c1UAj_LbgdGBuJFlKbnrQ",unblurButton:"_2Ws3wFSVPzJhnW46FsoxLv"}},"./src/reddit/components/Media/ImageBox/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return v}));n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/react-router-dom/esm/react-router-dom.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/lib/classNames/index.ts"),d=n("./src/lib/forceHttps/index.ts"),l=n("./src/lib/permalinkToOverlayLocation/index.ts"),u=n("./src/reddit/components/PlayButton/index.tsx"),h=n("./src/reddit/constants/elementClassNames.ts"),p=n("./src/reddit/i18n/components.tsx"),m=n("./src/reddit/i18n/utils.ts"),b=n("./src/reddit/models/Media/index.ts"),x=n("./src/reddit/selectors/posts.ts"),f=n("./src/reddit/selectors/user.ts"),g=n("./src/reddit/constants/tracking.ts"),w=n("./src/reddit/components/Media/ImageBox/index.m.less"),y=n.n(w);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var j=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const E=(e,t)=>{return e/t>16/9},v=e=>e>2*b.e,_=e=>{const t=Object(c.a)(y.a.image,h.h,e.className,{[y.a.mShowCentered]:e.showCentered,[y.a.mShowBlurred]:e.shouldBlur}),n={};return e.showFull||e.isTall||(n.maxHeight="".concat(b.i,"px")),e.isListing||e.isTall&&v(e.height)||(n.maxHeight="".concat(b.e,"px")),e.isExpando&&e.maxHeight&&(n.maxHeight="".concat(e.maxHeight,"px")),e.isExpando&&e.maxWidth&&(n.maxWidth="".concat(e.maxWidth,"px")),r.a.createElement("img",{alt:Object(m.c)("Post image"),className:t,src:e.src,style:n})},C=e=>{const t={};return(!e.showFull&&E(e.height,e.width)||e.shouldBlur)&&(t.overflow="hidden"),e.showFull||(t.maxHeight="".concat(b.i,"px"),e.shouldBlur&&(t.maxWidth=E(e.height,e.width)?"".concat(b.w,"px"):"".concat(e.width,"px"))),e.showCentered&&(t.margin="0 auto"),e.isExpando&&e.maxHeight&&(t.maxHeight="".concat(e.maxHeight,"px")),r.a.createElement("div",{className:Object(c.a)(y.a.container,e.className),style:t},e.children)},P=Object(i.c)({postPermalink:x.I,shouldOpenPostInNewTab:f.W}),S=Object(o.b)(P);t.a=S(e=>e.outboundUrl?r.a.createElement("a",{href:e.outboundUrl,target:"_blank"},I(e)):e.isListing&&e.postPermalink?r.a.createElement(a.a,{target:e.shouldOpenPostInNewTab?"_blank":void 0,to:Object(l.a)(e.postPermalink)},I(e)):I(e));const T=(e,t)=>r.a.createElement(_,{className:Object(c.a)(t.imageClassName,{[g.b]:!e}),height:t.height,isExpando:!!t.isExpando,isListing:t.isListing,isTall:e,maxHeight:t.maxHeight,maxWidth:t.maxWidth,shouldBlur:t.shouldBlur,showCentered:t.showCentered,showFull:t.showFull,src:Object(d.a)(t.source),width:t.width}),I=e=>{var{onClick:t}=e,n=j(e,["onClick"]);const s=E(n.height,n.width),o=v(n.height)&&s;return r.a.createElement(C,O({},n,{className:"".concat(s?"".concat(g.b," "):"").concat(n.className||"")}),n.isListing?r.a.createElement("div",{className:n.contentImageClassName},T(s,n)):r.a.createElement("a",{href:n.originalSource,onClick:t,style:o?{maxWidth:"50%"}:{},target:"_blank"},T(s,n)),n.isListing&&!n.showFull&&n.height>b.i&&E(n.height,n.width)&&r.a.createElement("div",{className:y.a.seeMore},r.a.createElement(p.c,null,"see full image")),n.isVideoThumbnail&&r.a.createElement(u.a,{onClick:t}),n.shouldBlur&&!n.isVideoThumbnail&&!n.isListing&&r.a.createElement("div",{className:y.a.unblurButtonContainer},r.a.createElement("button",{className:y.a.unblurButton},Object(m.c)("Click to see".concat(n.isNSFW?Object(m.b)("nsfw"," nsfw"):"").concat(n.isSpoiler?Object(m.b)("spoiler"," spoiler"):"")))))}},"./src/reddit/components/Media/MediaContainer/index.m.less":function(e,t,n){e.exports={blur:"_2iaYXFpGyyEGq1rp02cl5w",container:"m3aNC6yp8RrNM_-a0rrfa",video:"_3PIKVMCKdveCEcyiKr43sU",spacer:"_3gBRFDB5C34UWyxEe_U6mD",wrapper:"_3JgI-GOrkmyIeDeyzXdyUD",mColoredBackground:"_2CSlKHjH7lsjx0IpjORx14"}},"./src/reddit/components/Media/MediaContainer/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/lib/classNames/index.ts"),a=n("./src/lib/forceHttps/index.ts"),i=n("./src/reddit/models/Media/index.ts"),c=n("./src/reddit/components/Media/MediaContainer/index.m.less"),d=n.n(c);const l=e=>{let t=null;(e.showFull||e.height<i.i)&&(t=e.height);const n=Object.assign({},t?{maxHeight:"".concat(t,"px")}:{},e.showFull&&!e.showCentered?{maxWidth:"".concat(e.width,"px")}:{},e.blurSrc?{overflow:"hidden"}:{}),s=e.blurSrc?r.a.createElement("img",{className:d.a.blur,src:Object(a.a)(e.blurSrc)}):null,c=((e,t,n)=>n?100*n:e&&t?e/t*100:100*i.c)(e.height,e.width,e.forceAspectRatio);return r.a.createElement("div",{className:Object(o.a)(d.a.container,e.className,{[d.a.video]:e.isVideo}),"data-click-id":"media",style:n},s,r.a.createElement("div",{className:d.a.spacer,style:{paddingBottom:"".concat(c,"%")}}),r.a.createElement("div",{className:Object(o.a)(d.a.wrapper,{[d.a.mColoredBackground]:!e.blurSrc})},e.children))};t.a=e=>{if(!e.isListing&&!e.alwaysWrapMedia||e.isExpando){return r.a.Children.only(e.children)||r.a.createElement("div",null)}return r.a.createElement(l,e)}},"./src/reddit/components/Media/VideoBox/index.m.less":function(e,t,n){e.exports={container:"_3spkFGVnKMHZ83pDAhW3Mx",centered:"_2b68Lt6xHaLir5082LDDA9",styledVideo:"tErWI93xEKrI2OkozPs7J"}},"./src/reddit/components/Media/VideoBox/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/lodash/throttle.js"),r=n.n(s),o=n("./node_modules/react/index.js"),a=n.n(o),i=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/es/index.js"),d=n("./src/lib/classNames/index.ts"),l=n("./src/reddit/actions/video.ts"),u=n("./src/reddit/constants/tracking.ts"),h=n("./src/reddit/models/Media/index.ts"),p=n("./src/reddit/selectors/user.ts"),m=n("./src/reddit/selectors/video.ts");n("./node_modules/core-js/modules/es6.symbol.js");const b=100,x=b/2/1e3;var f=n("./src/lib/forceHttps/index.ts");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var w=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};class y extends a.a.Component{constructor(e){super(e),this.toggle=e=>{if(e){const e=this.play();e&&e.catch&&e.catch(()=>{})}else this.pause()},this.ref=null}play(){if(this.ref&&this.ref.play)return this.ref.play()}pause(){if(this.ref&&this.ref.pause)return this.ref.pause()}componentDidMount(){this.initEventHandlers(),this.toggle(!this.props.shouldPause&&(this.props.autoplay||this.props.isNotCardView))}componentWillUnmount(){this.destroyEventHandlers()}componentWillReceiveProps(e){this.props.shouldPause!==e.shouldPause&&this.toggle(!e.shouldPause&&(e.autoplay||e.isNotCardView))}destroyEventHandlers(){this.ref&&this.cancelBufferingDetector&&this.cancelBufferingDetector()}initEventHandlers(){this.ref&&this.props.onBufferingChange&&(this.cancelBufferingDetector=function(e,t){let n=!1,s=!1;const r=()=>n=!0,o=()=>s=!0;e.addEventListener("loadeddata",r),e.addEventListener("play",o),e.addEventListener("playing",o);let a=!1,i=0,c=0;const d=window.setInterval(()=>{if(c=e.currentTime,s)return s=!1,void(i=c);if(e.paused||e.seeking||!n)return void(i=c);const r=a;4===e.readyState?a=!1:!a&&c>=i&&c<i+x?a=!0:a&&c>=i&&c>i+x&&(a=!1),i=c,r!==a&&t(a)},b);return()=>{clearInterval(d),e.removeEventListener("playing",o),e.removeEventListener("play",o),e.removeEventListener("loadeddata",r)}}(this.ref,this.props.onBufferingChange))}render(){const e=this.props,{autoplay:t,isListing:n,isNotCardView:s,onBufferingChange:r,shouldLoad:o,shouldPause:i,showCentered:c,showFull:d,source:l}=e,u=w(e,["autoplay","isListing","isNotCardView","onBufferingChange","shouldLoad","shouldPause","showCentered","showFull","source"]);return a.a.createElement("video",g({},u,{ref:e=>{this.ref=e},muted:!0}),a.a.createElement("source",{src:Object(f.a)(this.props.source)}))}}var O=y,j=n("./src/reddit/components/Media/VideoBox/index.m.less"),E=n.n(j);const v=Object(c.c)({autoplayPref:p.b,consumed:m.b,loadTimes:m.f,metadata:m.g,started:m.i}),_=Object(i.b)(v,(e,t)=>{let{postId:n}=t;return{onBufferingChanged:t=>{e(t?l.w(n):l.I(n))},onLoadStarted:t=>e(l.v(n,t)),onMetadataReceived:t=>e(l.H({metadata:t,postId:n})),onPaused:()=>e(l.D({postId:n})),onPlayable:t=>e(l.E(n,t)),onPlaying:()=>e(l.G(n)),onWatched:()=>e(l.x(n)),onViewableImpression:()=>e(l.B(n)),onFullyViewableImpression:()=>e(l.A(n)),onPlayedWithSound:()=>e(l.F(n)),onWatchedPercent:t=>e(l.O(t,n))}});class C extends a.a.Component{constructor(){super(...arguments),this.percentTriggered=0,this._checkForConsumption=r()(e=>{if(this.props.consumed)return;const{target:t}=e;t&&t.played&&1===t.played.length&&0===t.played.start(0)&&t.played.end(0)===t.duration&&this.props.onWatched()},200),this.onTimeUpdate=e=>{e.persist(),this._checkForConsumption(e)},this.onVideoPlayable=e=>{this.props.metadata||this.sendTransformedMetadata(e),this.props.started||this.props.onPlayable(e.timeStamp)},this.loadStarted=e=>{this.props.onLoadStarted(e.timeStamp)},this.sendTransformedMetadata=e=>{this.props.onMetadataReceived({id:this.props.postId,length:1e3*e.target.duration,originalHeight:e.target.videoHeight,originalWidth:e.target.videoWidth})},this.onPaused=e=>{this.props.onPaused()},this.onPlaying=e=>{this.props.loadTimes||this.onVideoPlayable(e),this.props.metadata||this.sendTransformedMetadata(e),this.props.onPlaying()},this.renderVideoPlayer=()=>{const{showCentered:e,isListing:t}=this.props,n={};return e&&(n.margin="0 auto"),t||(n.maxHeight="".concat(h.e,"px")),a.a.createElement(O,{autoplay:this.props.autoplayPref,className:Object(d.a)(u.b,E.a.styledVideo),height:this.props.height,isListing:this.props.isListing,isNotCardView:this.props.isNotCardView,key:this.props.postId,loop:!0,onBufferingChange:this.props.onBufferingChanged,onLoadStart:this.loadStarted,onLoadedData:this.onVideoPlayable,onLoadedMetadata:this.sendTransformedMetadata,onPause:this.props.onPaused,onPlaying:this.onPlaying,onTimeUpdate:this.onTimeUpdate,shouldLoad:this.props.shouldLoad,shouldPause:this.props.shouldPause,showCentered:this.props.showCentered,showFull:this.props.showFull,source:this.props.source,style:n,width:this.props.width})}}render(){return this.props.isListing?this.renderVideoPlayer():a.a.createElement("div",{className:Object(d.a)(E.a.container,this.props.className,{[E.a.centered]:this.props.showCentered})},a.a.createElement("a",{href:this.props.originalSource,target:"_blank"},this.renderVideoPlayer()))}}t.a=_(C)},"./src/reddit/components/RichTextJson/SpoilerText.m.less":function(e,t,n){e.exports={InnerSpan:"_3mIYu0jAt23sIWGr4pFcI",innerSpan:"_3mIYu0jAt23sIWGr4pFcI",TooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",tooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",SpoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",spoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",isOpen:"_15VS32zBYFUDI5ssldQhEK",Component:"_3CBmNG6xIaLHHh1ts_10tN",component:"_3CBmNG6xIaLHHh1ts_10tN"}},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/lib/classNames/index.ts"),a=n("./src/higherOrderComponents/addOverlayEvents.tsx"),i=n("./src/reddit/components/InfoTextTooltip/index.tsx"),c=n("./src/reddit/components/OverlayAwareTooltip/index.tsx"),d=n("./src/reddit/i18n/utils.ts"),l=n("./src/reddit/components/RichTextJson/SpoilerText.m.less"),u=n.n(l),h=n("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var m=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const b=["left","top"],x=["left","bottom"],f=h.a.span("InnerSpan",u.a),g=h.a.span("TooltipTarget",u.a),w=h.a.span("SpoilerWrapper",u.a),y=h.a.wrapped(e=>{var{className:t,isOpen:n}=e,s=m(e,["className","isOpen"]);return r.a.createElement(w,p({},s,{className:Object(o.a)(t,{[u.a.isOpen]:n})}))},"SpoilerWrapper",u.a),O=Object(c.a)(h.a.wrapped(i.b,"Component",u.a),[a.a.Click,a.a.Keydown]);class j extends r.a.Component{constructor(e){super(e),this.tooltipTargetElement=null,this.onClick=e=>{const{isOpen:t}=this.state;t||(e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!0}))},this.setTooltipTargetRef=e=>this.tooltipTargetElement=e,this.onShowTooltip=()=>{this.state.isOpen||this.setState({showTooltip:!0})},this.onHideTooltip=()=>{this.setState({showTooltip:!1})},this.state={isOpen:!1,showTooltip:!1}}render(){const{isOpen:e,showTooltip:t}=this.state;return r.a.createElement(y,{isOpen:e,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},r.a.createElement(f,null,r.a.createElement(g,{innerRef:this.setTooltipTargetRef}),r.a.createElement(O,{isOpen:t,tooltipTarget:this.tooltipTargetElement,text:Object(d.c)("Reveal spoiler"),targetPosition:b,tooltipPosition:x}),this.props.children))}}t.a=j},"./src/reddit/components/RichTextJson/elements.m.less":function(e,t,n){e.exports={H1:"_7T4UafM1PdBGycd5na9nF",h1:"_7T4UafM1PdBGycd5na9nF",H2:"_1WODZhR-x-fbMu3MOL9cH1",h2:"_1WODZhR-x-fbMu3MOL9cH1",H3:"WFFrvt6_3z5B7MBcYKr8U",h3:"WFFrvt6_3z5B7MBcYKr8U",H4:"_2UlSUuiYR4BRv_FiLxCcu9",h4:"_2UlSUuiYR4BRv_FiLxCcu9",H5:"hnYPKCNkyo9X6QpCXHj1I",h5:"hnYPKCNkyo9X6QpCXHj1I",H6:"_1ceLNhXCFZ1_Lj9Th4go_C",h6:"_1ceLNhXCFZ1_Lj9Th4go_C",Hr:"_2ACwpV3Y0LKhHHKbsxNmmY",hr:"_2ACwpV3Y0LKhHHKbsxNmmY",M:"_34q3PgLsx9zIU5BiSOjFoM",m:"_34q3PgLsx9zIU5BiSOjFoM",Pre:"_3GnarIQX9tD_qsgXkfSDz1",pre:"_3GnarIQX9tD_qsgXkfSDz1",Blockquote:"_28lDeogZhLGXvE95QRPeDL",blockquote:"_28lDeogZhLGXvE95QRPeDL",P:"_1qeIAgB0cPwnLhDF9XSiJM",p:"_1qeIAgB0cPwnLhDF9XSiJM",Li:"_3gqTEjt4x9UIIpWiro7YXz",li:"_3gqTEjt4x9UIIpWiro7YXz",Ul:"_33MEMislY0GAlB78wL1_CR",ul:"_33MEMislY0GAlB78wL1_CR",Ol:"_1eJr7K139jnMstd4HajqYP",ol:"_1eJr7K139jnMstd4HajqYP",B:"_12FoOEddL7j_RgMQN0SNeU",b:"_12FoOEddL7j_RgMQN0SNeU",I:"_7s4syPYtk5hfUIjySXcRE",i:"_7s4syPYtk5hfUIjySXcRE",U:"HoWuCifWxDx-PnwllGmZd",u:"HoWuCifWxDx-PnwllGmZd",Sub:"_2aQztsTwdz2uTN4arsyBD6",sub:"_2aQztsTwdz2uTN4arsyBD6",Sup:"_1jsgSPRO0cMQfs1UZrSovE",sup:"_1jsgSPRO0cMQfs1UZrSovE",Table:"MRH-njmSb5ZTkfb1o4dqv",table:"MRH-njmSb5ZTkfb1o4dqv",Tr:"s6JZe6869f81l9E_5G7Q9",tr:"s6JZe6869f81l9E_5G7Q9",Tdl:"_3DYfYn_cczg1wj_a3hhyV6",tdl:"_3DYfYn_cczg1wj_a3hhyV6",Tdc:"_1LHijgw3WoeCUe8AUewfUB",tdc:"_1LHijgw3WoeCUe8AUewfUB",Tdr:"_3DqGFKR55y45L5IxBTgsFz",tdr:"_3DqGFKR55y45L5IxBTgsFz",Thl:"_4uv59XIILEFm6V3BmtSuR",thl:"_4uv59XIILEFm6V3BmtSuR",Thc:"_3TNkDptlyGOiWXvdX_acOB",thc:"_3TNkDptlyGOiWXvdX_acOB",Thr:"_1AUCpXmm3maPuEbUSe90Y8",thr:"_1AUCpXmm3maPuEbUSe90Y8",A:"_3t5uN8xUmg0TOwRCOGQEcU",a:"_3t5uN8xUmg0TOwRCOGQEcU"}},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,n){"use strict";n.d(t,"w",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return x})),n.d(t,"v",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"u",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return _})),n.d(t,"t",(function(){return C})),n.d(t,"p",(function(){return P})),n.d(t,"o",(function(){return S})),n.d(t,"q",(function(){return T})),n.d(t,"s",(function(){return I})),n.d(t,"r",(function(){return L})),n.d(t,"a",(function(){return M}));var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/reddit/controls/OutboundLink/index.tsx"),a=n("./src/reddit/components/RichTextJson/elements.m.less"),i=n.n(a),c=n("./src/lib/lessComponent.tsx");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const l=[c.a.div("H1",i.a),c.a.div("H2",i.a),c.a.div("H3",i.a),c.a.div("H4",i.a),c.a.div("H5",i.a),c.a.div("H6",i.a)],u=c.a.hr("Hr",i.a),h=c.a.code("M",i.a),p=c.a.pre("Pre",i.a),m=c.a.blockquote("Blockquote",i.a),b=c.a.p("P",i.a),x=c.a.li("Li",i.a),f=c.a.ul("Ul",i.a),g=c.a.ol("Ol",i.a),w=c.a.strong("B",i.a),y=c.a.em("I",i.a),O=c.a.span("U",i.a),j=e=>r.a.createElement("del",e),E=c.a.sub("Sub",i.a),v=c.a.sup("Sup",i.a),_=c.a.table("Table",i.a),C=c.a.tr("Tr",i.a),P=c.a.td("Tdl",i.a),S=c.a.td("Tdc",i.a),T=c.a.td("Tdr",i.a),I=c.a.th("Thl",i.a),L=c.a.th("Thc",i.a),M=(c.a.th("Thr",i.a),c.a.wrapped(e=>r.a.createElement(o.a,d({},e,{isSponsored:!1,source:null})),"A",i.a))},"./src/reddit/components/RichTextJson/index.m.less":function(e,t,n){e.exports={Container:"_292iotee39Lmt0MkQZ2hPV",container:"_292iotee39Lmt0MkQZ2hPV"}},"./src/reddit/components/RichTextJson/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/lodash/findLastIndex.js"),r=n.n(s),o=n("./node_modules/react/index.js"),a=n.n(o),i=n("./src/lib/classNames/index.ts"),c=n("./src/lib/CSSVariableProvider/withTheme.tsx"),d=n("./src/lib/raven/index.ts"),l=n("./src/reddit/constants/elementClassNames.ts"),u=n("./src/reddit/helpers/styles/postBackgroundColor.ts"),h=n("./src/reddit/helpers/styles/smartTextColor.ts"),p=n("./src/reddit/models/RichTextJson/index.ts"),m=n("./src/config.ts"),b=n("./src/reddit/components/HTML5StreamPlayer/index.tsx"),x=n("./src/reddit/components/Media/EmbedBox/index.tsx"),f=n("./src/reddit/components/Media/ImageBox/index.tsx"),g=n("./src/reddit/components/Media/MediaContainer/index.tsx"),w=n("./src/reddit/components/Media/VideoBox/index.tsx"),y=n("./src/reddit/helpers/richTextJson/index.ts"),O=n("./src/reddit/i18n/utils.ts"),j=n("./src/reddit/components/RichTextJson/elements.tsx"),E=n("./src/reddit/components/RichTextJson/media.m.less"),v=n.n(E),_=n("./src/lib/lessComponent.tsx");function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var P=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const S=/\/(\w+)\/asset\/(\w+)\//,T=_.a.wrapped(j.a,"A",v.a),I=_.a.wrapped(f.a,"ImageBox",v.a),L=_.a.wrapped(e=>{var{className:t,width:n}=e,s=P(e,["className","width"]);return a.a.createElement(g.a,C({className:t,width:n},s))},"MediaContainer",v.a),M=_.a.wrapped(e=>a.a.createElement("p",e),"Caption",v.a),B=_.a.div("Placeholder",v.a),N=_.a.wrapped(e=>{var{className:t,e:n}=e,s=P(e,["className","e"]);const r=n===p.C?Object(O.c)("Processing video..."):Object(O.c)("Processing image...");return a.a.createElement(B,C({className:t,style:{"--placeholder-content-text":"'".concat(r,"'")}},s))},"Placeholder",v.a),k=e=>{let{c:t,x:n,y:s}=e;return a.a.createElement(L,{height:s,width:n,isListing:!1,showCentered:!0,showFull:!0},a.a.createElement(x.a,{isListing:!1,source:t,height:s,width:n,showCentered:!0,showFull:!0}))},H=(e,t)=>{const n=e.c;let s="";return t&&(t.e===p.s?s=t.s.u:t.e===p.r?s=t.s.gif:t.e===p.t&&(s=(e=>{const t=S.exec(e);return t?"".concat(m.a.redditUrl,"/link/").concat(t[1],"/video/").concat(t[2],"/player"):""})(t.dashUrl))),s?a.a.createElement(T,{title:n,href:s},n||s):null},F=(e,t,n,s)=>{const r=p.D(t,e.id);if(n)return[H(e,r)];const o=[];return r?r.e===p.s?o.push((e=>{let{id:t,s:n}=e;return a.a.createElement(L,{height:n.y,width:n.x,isListing:!1,showCentered:!0,showFull:!0},a.a.createElement(I,{originalSource:n.u,postId:t,source:n.u,height:n.y,width:n.x,shouldBlur:!1,showCentered:!0,showFull:!0,isListing:!1}))})(r)):r.e===p.r?o.push((e=>{let{id:t,ext:n,s}=e;const r=Object(y.d)(t),o=r?n||Object(y.c)(t):s.mp4;return r&&!s.mp4?a.a.createElement(T,{href:o,target:"_blank"},o):a.a.createElement(L,{height:s.y,width:s.x,isListing:!1,showCentered:!r,showFull:!0},a.a.createElement(w.a,{className:r?v.a.giphy:void 0,height:s.y,isListing:!1,isNotCardView:!0,originalSource:o,width:s.x,postId:t,source:s.mp4,shouldPause:!1,showCentered:!r,shouldLoad:!0,showFull:!0}))})(r)):r.e===p.t&&o.push((e=>{let{hlsUrl:t,dashUrl:n,x:s,y:r,isGif:o}=e;return a.a.createElement(L,{height:r,width:s,isListing:!1,showCentered:!0,showFull:!0},a.a.createElement(b.b,{shouldLoad:!0,shouldPause:!0,autoPlay:o,hlsSource:t,mpegDashSource:n,isGif:o}))})(r)):o.push(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return a.a.createElement(N,{e,language:t})}(e.e,s)),e.c&&o.push((e=>a.a.createElement(M,null,e))(e.c)),o};var W=n("./node_modules/lodash/reduce.js"),U=n.n(W),D=n("./node_modules/react-redux/es/index.js"),R=n("./node_modules/reselect/es/index.js"),G=n("./src/higherOrderComponents/makeAsync.tsx"),J=n("./src/lib/loadWithRetries/index.ts"),V=n("./src/reddit/components/SubredditMention/SubredditIcon/index.tsx");var X=Object(G.a)({ErrorComponent:()=>null,getComponent:()=>Object(J.a)(()=>n.e("SubredditMentionWithIcon").then(n.bind(null,"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.tsx"))).then(e=>e.default),LoadingComponent:e=>{let{subredditName:t}=e;return a.a.createElement("span",null,a.a.createElement(V.b,null),a.a.createElement(V.a,{href:"/r/".concat(t,"/")},"r/".concat(t)))}}),Y=n("./src/reddit/constants/experiments.ts"),A=n("./src/reddit/selectors/subredditMention.ts");const q=e=>{let{subredditName:t}=e;return a.a.createElement(j.a,{href:"/r/".concat(t,"/")},"r/".concat(t))},Z=Object(R.c)({isFeatureFlagEnabled:A.b,isUserInTreatment:A.e,userVariant:A.a});var K=Object(D.b)(Z)(e=>{let{isFeatureFlagEnabled:t,isUserInTreatment:n,subredditName:s,userVariant:r}=e;if(!n||!t)return a.a.createElement(q,{subredditName:s});switch(r){case Y.Gb.SmIcon:return a.a.createElement(X,{subredditName:s});case Y.Gb.SmIconHc:return a.a.createElement(X,{subredditName:s,isHoverable:!0});default:return a.a.createElement(q,{subredditName:s})}}),Q=n("./src/reddit/components/TrackingHelper/index.tsx"),z=n("./src/reddit/models/Product/index.ts"),$=n("./src/reddit/selectors/telemetry.ts");class ee extends a.a.Component{constructor(){super(...arguments),this.onClick=()=>this.sendEvent("click"),this.onMouseOver=()=>{this.hoverTimeout&&this.onMouseOut(),this.hoverTimeout=window.setTimeout(()=>{this.sendEvent("view")},1e3)},this.onMouseOut=()=>{window.clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0},this.sendEvent=e=>{this.props.sendEvent(t=>{const n=$.defaults(t);return Object.assign({source:"meta",action:e,noun:"emote"},n,{actionInfo:Object.assign({},n.actionInfo,{reason:this.props.node.id}),subreddit:$.subreddit(t)})})}}render(){const{node:e,media:t}=this.props;let n,s,r;return t.e===p.s?(n=t.s.x,s=t.s.y,r=t.s.u):t.e===p.r&&(n=t.s.x,s=t.s.y,r=t.s.gif),r?a.a.createElement("img",{src:r,width:n,height:s,style:{verticalAlign:"middle"},title:":".concat(Object(z.b)(e.id),":"),onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}):null}}var te=Object(Q.b)(ee),ne=n("./src/lib/unicodeUtils/index.ts"),se=n("./src/reddit/components/RichTextJson/SpoilerText.tsx");const re=e=>{const t=e.c||[],n=e.l,s=[],r=t.length;for(let a=0;a<r;a++){const e=t[a];s.push(e.e===p.w?e.t:me(e))}const o=j.w[n-1];return a.a.createElement(o,null,s)},oe=()=>a.a.createElement(j.e,null),ae=(e,t)=>{const n=e.c;if(!n)return;const s=n.length,r=[];for(let o=0;o<s;o++)r.push(de(n[o],t));return a.a.createElement(j.c,null,r)},ie=e=>{const t=e.c;return a.a.createElement(j.k,null,a.a.createElement(j.h,null,t.reduce((e,t,n,s)=>e+=t.t+(n<s.length?"\n":""),"")))},ce=(e,t)=>{const n=e.c,s=[],r=n.length;for(let i=0;i<r;i++){const e=n[i].c;e&&e.length&&s.push(a.a.createElement(j.g,null,e.map(e=>de(e,t))))}const o=e.o?j.i:j.v;return a.a.createElement(o,null,s)},de=(e,t)=>{switch(e.e){case p.b:return ae(e,t);case p.c:return ie(e);case p.k:return re(e);case p.l:return oe();case p.p:return ce(e,t);case p.u:return he(e,t);case p.z:return le(e,t)}},le=(e,t)=>{const n=e.c,s=e.h,r=n.length,o=s.length,i=[],c=[],d=[];for(let l=0;l<o;l++){const e=s[l],{H:n,D:r}=ge(e.a),{c:o=[]}=e;i.push(a.a.createElement(n,null,pe(o,t))),d[l]=r}for(let l=0;l<r;l++){const e=n[l],s=e.length,r=[];for(let n=0;n<s;n++){const s=d[n],{c:o=[]}=e[n];r.push(a.a.createElement(s,null,pe(o,t)))}c.push(a.a.createElement(j.t,null,r))}return a.a.createElement(j.n,null,a.a.createElement("thead",null,a.a.createElement(j.t,null,i)),a.a.createElement("tbody",null,c))},ue=a.a.createElement(j.j,null,a.a.createElement("br",null)),he=(e,t)=>{if(!e.c||!e.c.length)return ue;const n=e.c[0];return n.e!==p.m&&n.e!==p.a||!Object(y.d)(n.id)?a.a.createElement(j.j,null,pe(e.c,t)):F(n,t)},pe=(e,t)=>{const n=[],s=e.length;for(let r=0;r<s;r++){const s=e[r];if(s.e===p.A)n.push(be(s));else if(s.e===p.x)n.push(a.a.createElement(se.a,null,pe(s.c,t)));else if(s.e===p.n)n.push(a.a.createElement("br",null));else if(s.e===p.m||s.e===p.a){if(s.id.startsWith("emote|")){const e=p.D(t,s.id);e&&n.push(a.a.createElement(te,{node:s,media:e}))}}else n.push(me(s))}return n},me=e=>{switch(e.e){case p.o:return a.a.createElement(j.a,{title:e.a,href:e.u},be({t:e.t,f:e.f}));case p.y:return a.a.createElement(K,{subredditName:e.t});case p.B:return a.a.createElement(j.a,{href:"/u/".concat(e.t,"/")},"".concat(e.l?"/":"","u/").concat(e.t));case p.g:case p.v:return a.a.createElement(j.a,{href:e.t},e.t)}},be=e=>{const{f:t,t:n}=e,s=[];if(!t)return fe(0,n);const r=Object(ne.a)(n);let o=0,a=0;const i=t.length;for(;o<i;o++){const[e,i,c]=t[o],d=i+c,l=r[i],u=r[d]-l;l>a&&s.push(fe(0,n.substr(a,l-a))),s.push(fe(e,n.substr(l,u))),a=l+u}return a<n.length&&s.push(fe(0,n.substr(a))),s},xe={[p.j.monospace]:j.h,[p.j.bold]:j.b,[p.j.italic]:j.f,[p.j.underline]:j.u,[p.j.strikethrough]:j.d,[p.j.subscript]:j.l,[p.j.superscript]:j.m},fe=(e,t)=>{let n=t;return n=U()(xe,(t,n,s)=>e&parseInt(s,10)?a.a.createElement(n,null,t):t,n)},ge=e=>{switch(e){case p.f:return{H:j.r,D:j.q};case p.d:return{H:j.r,D:j.o};case p.e:default:return{H:j.r,D:j.p}}};var we=n("./src/reddit/components/RichTextJson/index.m.less"),ye=n.n(we);function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return Pe}));var je=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const Ee=_.a.div("Container",ye.a),ve=Object(c.a)(e=>a.a.createElement(Ee,Oe({},e,{style:{color:Object(h.a)(Object(u.a)(e))}}))),_e=e=>e.e===p.k?!!e.c&&!e.c.every(e=>!e.t):e.e!==p.u||!!e.c&&!e.c.every(e=>e.e===p.A&&!e.t),Ce=e=>{const{className:t,content:n,language:s,renderMediaAsLinks:o,useExplicitTextColor:c}=e,d=n.document,u=[],h=e.mediaMetadata||null,m=(e=>e.findIndex(_e))(d),b=(e=>r()(e,_e))(d);if(-1!==m)for(let r=m;r<=b;r++){const e=d[r];switch(e.e){case p.k:u.push(re(e));break;case p.l:u.push(oe());break;case p.b:u.push(ae(e,h));break;case p.c:u.push(ie(e));break;case p.p:u.push(ce(e,h));break;case p.z:u.push(le(e,h));break;case p.u:u.push(he(e,h));break;case p.h:u.push(k(e));break;case p.m:case p.a:case p.C:u.push(...F(e,h,o,s))}}return c?a.a.createElement(Ee,{className:Object(i.a)(l.k,t)},u):a.a.createElement(ve,{className:Object(i.a)(l.k,t),flairStyleTemplate:e.flairStyleTemplate},u)};class Pe extends a.a.Component{constructor(){super(...arguments),this.hasError=!1,this.state={hasError:!1},this.renderDefaultFallback=()=>"Something went wrong while trying to render this"}componentDidCatch(e){this.setState({hasError:!0}),this.logError(e)}logError(e){Object(d.b)(e,{extra:{objectInfo:this.props.renderingObjectInfo},tags:{rtjson:"rendering"}})}render(){const e=this.props,{renderingObjectInfo:t,renderFallback:n=this.renderDefaultFallback}=e,s=je(e,["renderingObjectInfo","renderFallback"]);if(this.hasError||this.state.hasError)return n();try{return Ce(s)}catch(r){return this.hasError=!0,this.logError(r),n()}}}},"./src/reddit/components/RichTextJson/media.m.less":function(e,t,n){e.exports={A:"_1PlxnYkerei9iGJsL9JyrP",a:"_1PlxnYkerei9iGJsL9JyrP",ImageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",imageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",MediaContainer:"_1uZBAwg0skEanBXfZsIWJh",mediaContainer:"_1uZBAwg0skEanBXfZsIWJh",Caption:"FJNSiirwoPtG58aeGw2Jx",caption:"FJNSiirwoPtG58aeGw2Jx",Placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",giphy:"_3J81Ds3WITP7zlq_PlUmGf"}},"./src/reddit/components/SubredditMention/SubredditIcon/index.m.less":function(e,t,n){e.exports={S:"Zwo7CZoszMU6kBYhWyIC7",s:"Zwo7CZoszMU6kBYhWyIC7",SubredditIcon:"_33bYVIxJlbFcqiiYlexnqp",subredditIcon:"_33bYVIxJlbFcqiiYlexnqp"}},"./src/reddit/components/SubredditMention/SubredditIcon/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./src/lib/lessComponent.tsx"),a=n("./src/reddit/components/SubredditIcon/index.tsx"),i=n("./src/reddit/controls/OutboundLink/index.tsx"),c=n("./src/reddit/components/SubredditMention/SubredditIcon/index.m.less"),d=n.n(c);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const u=o.a.wrapped(a.b,"SubredditIcon",d.a),h=o.a.wrapped(e=>r.a.createElement(i.a,l({},e,{isSponsored:!1,source:null})),"S",d.a)},"./src/reddit/selectors/subredditMention.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l}));var s=n("./src/reddit/constants/experiments.ts"),r=n("./src/reddit/featureFlags/index.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts");const a=e=>r.d.subredditMentionD2xExperiment(e),i=e=>{return Object(o.b)(e,{experimentEligibilitySelector:a,experimentName:s.Bb})||""},c=e=>{const t=i(e);return t===s.Gb.SmIcon||t===s.Gb.SmIconHc},d=(e,t)=>{let{subredditName:n}=t;return!!e.subreddits.api.models.pending[n]},l=(e,t)=>{let{subredditName:n}=t;return!!e.subreddits.api.models.error[n]}}}]);
//# sourceMappingURL=ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListin~d49165f9.eef36d57eb30f5b374e5.js.map